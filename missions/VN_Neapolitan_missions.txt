#Neapolitan  missions
#Contributed by FrenchKnight
#Coded by Historyperson

vn_nap_missions_slot_1 = {
    slot = 6
    generic = no
    ai = yes
    potential = {
        tag = NAP
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_nap_a_bustling_port = {
        icon = renaissance_city
        position = 1
        required_missions = {  }
		provinces_to_highlight = {
			province_id = 564
		}
        trigger = {
            564 = {
                owned_by = ROOT
                is_core = ROOT
                development = 30
                has_fort_trigger = yes
				has_tax_building_trigger = yes
                NOT = { num_free_building_slots = 1 }
			}
        }
        effect = {
			hidden_effect = { set_country_flag = naples_renaissance_flag }
			corsica_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			sassari_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			gallura_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			central_sardinia_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			arborea_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
        }
    }
    vn_nap_tyrrhenian_outposts = {
        icon = unite_with_sardinia
        position = 2
        required_missions = { vn_nap_a_bustling_port }
		provinces_to_highlight = {
            OR = {
                area = corsica_area
                area = sassari_area
                area = gallura_area
                area = central_sardinia_area
                area = arborea_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			corsica_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			sassari_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			gallura_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			central_sardinia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			arborea_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
			albenga_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			savona_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			genoa_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
        }
    }
    vn_nap_end_the_monopolies = {
        icon = overshadow_venice
        position = 3
        required_missions = { vn_nap_tyrrhenian_outposts }
		provinces_to_highlight = {
			OR = {
				area = albenga_area
				area = savona_area
				area = genoa_area
			}
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			albenga_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			savona_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			genoa_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            pisa_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            venice_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			arles_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			forcalquier_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			venessin_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			nice_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			barcelona_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			tarragona_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			lerida_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
            add_country_modifier = {
                name = nap_end_the_monopolies_mission
                duration = -1
            }            
        }
    }
    vn_nap_mediterranean_authority = {
        icon = king_of_aragon
        position = 4
        required_missions = { vn_nap_end_the_monopolies }
		provinces_to_highlight = {
            OR = {
                area = barcelona_area
                area = tarragona_area
                area = lerida_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			barcelona_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			tarragona_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			lerida_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
			aragon_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            } 			
        }
    }
    vn_nap_turn_towards_the_sea = {
        icon = imperial_navy
        position = 5
        required_missions = {  }
        trigger = {
            naval_forcelimit = 50
            navy_size_percentage = 0.75
        }
        effect = {
			add_yearly_sailors = 1
			add_navy_tradition = 10
            siena_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }    
            add_country_modifier = {
                name = nap_turn_towards_the_sea_mission
                duration = 9125
            }			
        }
    }
    vn_nap_stato_dei_presidi = {
        icon = fortify_malta
        position = 6
        required_missions = { vn_nap_turn_towards_the_sea }
		provinces_to_highlight = {
            area = siena_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
            num_of_owned_provinces_with = {
            	value = 5
				area = siena_area
            	has_fort_trigger = yes
            }
        }
        effect = {
			arezzo_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			florence_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			piombino_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			siena_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			scansano_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			pisa_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			lucca_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			speza_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
        }
    }
    vn_nap_kings_of_jerusalem = {
        icon = levantine_missions
        position = 7
        required_missions = { vn_nap_holy_war }
        provinces_to_highlight = {
            region = palestine_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            4974 = { country_or_non_sovereign_subject_holds = ROOT }
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 10
                region = palestine_region
            }
        }
        effect = {
			add_papal_influence = 25
            add_country_modifier = {
                name = nap_kings_of_jerusalem_mission
                duration = 9125
            }
        }
    }
}

vn_nap_missions_slot_2 = {
    slot = 7
    generic = no
    ai = yes
    potential = {
        tag = NAP
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_nap_embrace_baroque = {
        icon = les_invalides
        position = 2
        required_missions = { vn_nap_a_bustling_port }
        trigger = {
			has_3_lv3_advisors_trigger = yes
			has_institution = enlightenment   
            has_any_disaster = no
            has_regency = no
            if = {
                limit = { has_dlc = "Common Sense" }
                legitimacy_equivalent = 95
            }
            else_if = {
                limit = { government = monarchy }
                legitimacy = 95
            }
            NOT = { war_exhaustion = 1 }
            NOT = { corruption = 1 }			
        }
        effect = {
            add_country_modifier = {
                name = nap_embrace_baroque_mission
                duration = 9125
            }            
        }
    }
    vn_nap_eye_central_italy = {
        icon = swiss_mercenaries
        position = 3
        required_missions = { vn_nap_rule_capua }
		provinces_to_highlight = {
            OR = {
                area = ancona_area
                area = spoleto_area
                area = latium_area
                area = viterbo_area
                area = san_severino_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
            ancona_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            spoleto_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            latium_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            viterbo_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            san_severino_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
			arezzo_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			florence_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			piombino_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			siena_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			scansano_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			pisa_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			lucca_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			speza_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			bologna_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			ferrara_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			cesena_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			urbino_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_nap_invasions_of_murat = {
        icon = conquer_tuscany
        position = 4
        required_missions = { vn_nap_eye_central_italy }
        provinces_to_highlight = {
			OR = {
				area = arezzo_area
				area = florence_area
				area = piombino_area
				area = siena_area
				area = scansano_area
				area = pisa_area
				area = lucca_area
				area = speza_area
				area = bologna_area
				area = ferrara_area
				area = cesena_area
				area = urbino_area
			}
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			arezzo_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}            
			florence_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}            
			piombino_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}            
			siena_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}            
			scansano_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}            
			pisa_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}            
			lucca_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}            
			speza_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}       
			bologna_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			ferrara_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			cesena_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			urbino_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            venice_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            verona_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            padua_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            friuli_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            tolmezzo_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            belluno_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            brescia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            milan_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            como_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bellinzona_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            pavia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            modena_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            parma_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            mantua_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }          
        }
    }
    vn_nap_papal_backing = {
        icon = holy_state
        position = 5
        required_missions = {  }
        trigger = {
            if = {
                limit = { 
                    exists = PAP
                    uses_papacy = yes
                }
                reverse_has_opinion = {
                    who = PAP
                    value = 100
                }
				alliance_with = PAP
            }
			else = {
				religion_group = christian
				is_defender_of_faith = yes
				diplomatic_reputation = 5
				prestige = 50
			}            
        }
        effect = {
            add_country_modifier = {
                name = nap_papal_backing_mission
                duration = 9125
            }            
        }
    }
    vn_nap_holy_war = {
        icon = shield_of_christendom
        position = 6
        required_missions = { vn_nap_turn_towards_the_sea vn_nap_papal_backing }
        trigger = {
			army_size_percentage = 0.75
			religion_group = christian
            num_of_generals = 1
            any_country = {
                war_with = ROOT
                NOT = { has_matching_religion = ROOT }
                ROOT = {
                    war_score_against = {
                        who = PREV
                        value = 50
                    }
                }
            }
            if = {
                limit = {
                    OR = {
                        has_estate = estate_holy_orders
                    }
                }
                estate_loyalty = {
                    estate = estate_holy_orders
                    loyalty = 60
                }
            }            
        }
        effect = {
			create_general = { tradition = 75 }
            outremer_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            palestine_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = nap_holy_war_mission
                duration = 9125
            }            
        }
    }
    vn_nap_carthago_delenda_est = {
        icon = revenge_for_nicopolis
        position = 7
        required_missions = { vn_nap_holy_war vn_nap_sicilian_dominion }
		provinces_to_highlight = {
			OR = {
				area = tunis_area
				area = sousse_area
				area = mahdia_area
				area = djerba_area
			}
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			tunis_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			sousse_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			mahdia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			djerba_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
			add_papal_influence = 10
			kef_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			kairouan_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			djerid_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
			tripolitania_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			sirte_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			cyrenaica_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
        }
    }
}

vn_nap_missions_slot_3 = {
    slot = 8
    generic = no
    ai = yes
    potential = {
        tag = NAP
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_nap_a_sovereign_state = {
        icon = king_of_naples
        position = 1
        required_missions = {  }
        trigger = {
            is_subject = no
			NOT = { num_of_free_diplomatic_relations = 1 }
			OR = {
				advisor = statesman
				advisor = diplomat
			}
        }
        effect = {
			capua_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
				add_permanent_claim = ROOT
			}   
			salerno_area = {
                limit = {
                    NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
                }
				add_permanent_claim = ROOT
			}			
        }
    }
    vn_nap_rule_capua = {
        icon = union_with_naples
        position = 2
        required_missions = { vn_nap_a_sovereign_state }
		provinces_to_highlight = {
			area = capua_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			capua_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            ancona_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            spoleto_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            latium_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            viterbo_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            san_severino_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            abruzzo_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            molise_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            salerno_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            naples_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            capua_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sirente_velino_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }    
        }
    }
    vn_nap_to_the_adriatic = {
        icon = secure_the_republic
        position = 3
        required_missions = { vn_nap_rule_capua vn_nap_dominate_salerno }
		provinces_to_highlight = {
			OR = {
                area = abruzzo_area
                area = molise_area
                area = salerno_area
                area = naples_area
                area = capua_area
                area = sirente_velino_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
            abruzzo_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            molise_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            salerno_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            naples_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            capua_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            sirente_velino_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            arbanon_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            durres_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            vlore_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            dalmatia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            split_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            ragusa_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
            senj_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_nap_defeat_the_normans = {
        icon = league_of_the_public_weal
        position = 5
        required_missions = { vn_nap_to_the_adriatic }
		provinces_to_highlight = {
			OR = {
				area = salento_area
				area = north_salento_area
				area = foggia_area
				area = calabria_area
				area = cosenza_area
				area = basilicata_area
				area = ariano_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			salento_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			north_salento_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			foggia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			calabria_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			cosenza_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			basilicata_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			ariano_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            sicilia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }             
        }
    }
    vn_nap_sicilian_dominion = {
        icon = king_of_sicily
        position = 6
        required_missions = { vn_nap_defeat_the_normans }
		provinces_to_highlight = {
			region = sicilia_region 
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			sicilia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
			tunis_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			sousse_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			mahdia_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			djerba_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
        }
    }
    vn_nap_the_two_sicilies = {
        icon = unite_the_two_sicilies
        position = 7
        required_missions = { vn_nap_sicilian_dominion }
        provinces_to_highlight = {
			OR = {
                area = abruzzo_area
                area = molise_area
                area = salerno_area
                area = naples_area
                area = capua_area
                area = sirente_velino_area
				region = sicilia_region
				area = salento_area
				area = north_salento_area
				area = foggia_area
				area = calabria_area
				area = cosenza_area
				area = basilicata_area
				area = ariano_area
			}
			OR = {
                NOT = { owned_by = ROOT }
                NOT = { is_core = ROOT }
                consolidated_region_trigger = no
            }
        }
        trigger = {
            abruzzo_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
            molise_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
            salerno_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
            naples_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
            capua_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
            sirente_velino_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
			salento_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
			north_salento_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
			foggia_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
			calabria_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
			cosenza_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
			basilicata_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
			ariano_area = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }
            sicilia_region = {
                type = all
                owned_by = ROOT
                is_core = ROOT
				consolidated_region_trigger = yes
            }            
        }
        effect = {
            add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
            add_country_modifier = {
                name = nap_the_two_sicilies_mission
                duration = 9125
            }
        }
    }
}

vn_nap_missions_slot_4 = {
    slot = 9
    generic = no
    ai = yes
    potential = {
        tag = NAP
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_nap_dominate_salerno = {
        icon = reclaim_the_ducal_lands
        position = 2
        required_missions = { vn_nap_a_sovereign_state }
		provinces_to_highlight = {
			area = salerno_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			salerno_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            salento_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            north_salento_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            foggia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            calabria_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            cosenza_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            basilicata_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            ariano_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }    
        }
    }
    vn_nap_restore_amalfi = {
        icon = sway_cologne
        position = 3
        required_missions = { vn_nap_dominate_salerno }
        trigger = {
			if = {
				limit = { has_dlc = "Dharma" }
				2880 = { province_has_center_of_trade_of_level = 2 }
			}
            2880 = {
                owned_by = ROOT
                is_core = ROOT
                development = 30
                has_fort_trigger = yes
                NOT = { num_free_building_slots = 1 }
			}            
        }
        effect = {
            2880 = {
				add_base_tax = 1
                add_base_production = 1
                add_base_manpower = 1
				if = {
                    limit = {
	            		has_dlc = "Dharma"
                        NOT = { province_has_center_of_trade_of_level = 3 }
                    }
                    add_center_of_trade_level = 1
				}
				else = {
					add_base_production = 2
				}
                add_province_modifier = {
                    name = nap_restore_amalfi_mission
                    duration = -1
                }
			}            
        }
    }
    vn_nap_prince_of_durazzo = {
        icon = adriatic_access
        position = 4
        required_missions = { vn_nap_to_the_adriatic }
		provinces_to_highlight = {
            OR = {
                area = arbanon_area
                area = durres_area
                area = vlore_area
            }
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
            arbanon_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            durres_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            vlore_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            epirus_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            } 
            aetolia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }			
        }
    }
    vn_nap_into_epirus = {
        icon = despot_of_epirus
        position = 5
        required_missions = { vn_nap_prince_of_durazzo }
		provinces_to_highlight = {
			OR = {
				area = aetolia_area 
				area = epirus_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			aetolia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			epirus_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            hellas_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }			
        }
    }
    vn_nap_rule_the_greeks = {
        icon = cross_the_pindus
        position = 6
        required_missions = { vn_nap_into_epirus }
		provinces_to_highlight = {
			OR = {
				region = hellas_region
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			hellas_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            thrace_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_nap_plot_against_byzantium = {
        icon = end_the_schism
        position = 7
        required_missions = { vn_nap_rule_the_greeks }
		provinces_to_highlight = {
			area = thrace_area
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
			thrace_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
			thrace_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			traianople_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			hellespont_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			sozopol_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
            chalkidiki_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            } 
            serres_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            } 
            kastoria_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            } 
            skopia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            } 
            prilep_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            } 
        }
    }
}

vn_nap_missions_slot_5 = {
    slot = 10
    generic = no
    ai = yes
    potential = {
        tag = NAP
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_nap_reject_foreign_rule = {
        icon = legacy_of_the_sclavinias
        position = 1
        required_missions = {  }
        provinces_to_highlight = {
			OR = {
                area = abruzzo_area
                area = molise_area
                area = salerno_area
                area = naples_area
                area = capua_area
                area = sirente_velino_area
				area = salento_area
				area = north_salento_area
				area = foggia_area
				area = calabria_area
				area = cosenza_area
				area = basilicata_area
				area = ariano_area
			}
            NOT = { culture_group = latin }
        }
        trigger = {
            culture_group = latin
            abruzzo_area = {
                type = all
                culture_group = latin
            }
            molise_area = {
                type = all
                culture_group = latin
            }
            salerno_area = {
                type = all
                culture_group = latin
            }
            naples_area = {
                type = all
                culture_group = latin
            }
            capua_area = {
                type = all
                culture_group = latin
            }
            sirente_velino_area = {
                type = all
                culture_group = latin
            }
			salento_area = {
                type = all
                culture_group = latin
            }
			north_salento_area = {
                type = all
                culture_group = latin
            }
			foggia_area = {
                type = all
                culture_group = latin
            }
			calabria_area = {
                type = all
                culture_group = latin
            }
			cosenza_area = {
                type = all
                culture_group = latin
            }
			basilicata_area = {
                type = all
                culture_group = latin
            }
			ariano_area = {
                type = all
                culture_group = latin
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
			add_legitimacy = 10
            add_country_modifier = {
                name = nap_reject_foreign_rule_mission
                duration = 9125
            } 
        }
    }
    vn_nap_expand_by_marriage = {
        icon = king_of_kings
        position = 2
        required_missions = {  }
        trigger = {
			prestige = 25
            if = {
                limit = { has_dlc = "Common Sense" }
                legitimacy_equivalent = 100
            }
            else_if = {
                limit = { government = monarchy }
                legitimacy = 100
            }
			NOT = { num_of_free_diplomatic_relations = 1 }
			OR = {
				advisor = statesman
				advisor = diplomat
			}
			any_ally = {
				total_development = 100
			}              
        }
        effect = {
			if = {
				limit = {
					exists = PRO
					valid_for_personal_unions_trigger = yes
					PRO = { valid_for_personal_unions_trigger = yes }
				}
				add_casus_belli = {
					target = PRO
					type = cb_fabricated_claims
					months = 300
				}
                arles_area = {
					limit = {
						NOT = { is_core = PRO }
						NOT = { is_permanent_claim = PRO }
					}
					add_permanent_claim = PRO
				}
                forcalquier_area = {
					limit = {
						NOT = { is_core = PRO }
						NOT = { is_permanent_claim = PRO }
					}
					add_permanent_claim = PRO
				}
                venessin_area = {
					limit = {
						NOT = { is_core = PRO }
						NOT = { is_permanent_claim = PRO }
					}
					add_permanent_claim = PRO
				}
                nice_area = {
					limit = {
						NOT = { is_core = PRO }
						NOT = { is_permanent_claim = PRO }
					}
					add_permanent_claim = PRO
				}
			}
			else = {
                arles_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
                forcalquier_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
                venessin_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
                nice_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}            
        }
    }
    vn_nap_our_french_homeland = {
        icon = king_of_france
        position = 3
        required_missions = { vn_nap_expand_by_marriage }
		provinces_to_highlight = {
			OR = {
				area = arles_area
				area = forcalquier_area
				area = venessin_area
				area = nice_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }          
		}
		trigger = {
			OR = {
				senior_union_with = PRO 
				AND = {
					NOT = { exists = PRO }
                    arles_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    forcalquier_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    venessin_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    nice_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
				}			
			}
		}
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
            add_country_modifier = {
                name = nap_our_french_homeland_mission
                duration = 9125
            } 
        }
    }
    vn_nap_rule_in_dalmatia = {
        icon = promote_urbanization
        position = 4
        required_missions = { vn_nap_to_the_adriatic }
		provinces_to_highlight = {
            OR = {
                area = dalmatia_area
                area = split_area
                area = ragusa_area
                area = senj_area
            }
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
            dalmatia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            split_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            ragusa_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            senj_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
			if = {
				limit = {
					exists = HUN
					valid_for_personal_unions_trigger = yes
					HUN = { valid_for_personal_unions_trigger = yes }
				}
				add_casus_belli = {
					target = HUN
					type = cb_fabricated_claims
					months = 300
				}
                pest_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                kiskun_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                bacs_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                heves_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                nagyatad_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                sopron_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                veszprem_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                fejer_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                bihar_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                bekes_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                torontal_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                szabolcs_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                szatmar_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
                orsova_area = {
					limit = {
						NOT = { is_core = HUN }
						NOT = { is_permanent_claim = HUN }
					}
					add_permanent_claim = HUN
				}
			}
			else = {
                pest_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                kiskun_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                bacs_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                heves_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                nagyatad_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                sopron_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                veszprem_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                fejer_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                bihar_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                bekes_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                torontal_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                szabolcs_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                szatmar_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                orsova_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
			}  
            croatia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                    is_city = yes
                }
                add_permanent_claim = ROOT
            }             
        }
    }
    vn_nap_contest_hungary = {
        icon = king_of_hungary
        position = 5
        required_missions = { vn_nap_rule_in_dalmatia }
		provinces_to_highlight = {
			OR = {
                area = bihar_area
                area = bekes_area
                area = torontal_area
                area = szabolcs_area
                area = szatmar_area
                area = orsova_area
                area = nagyatad_area
                area = sopron_area
                area = veszprem_area
                area = fejer_area
                area = pest_area
                area = kiskun_area
                area = bacs_area
                area = heves_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }          
		}
		trigger = {
			OR = {
				senior_union_with = HUN 
				AND = {
					NOT = { exists = HUN }
                    bihar_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    bekes_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    torontal_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    szabolcs_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    szatmar_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    orsova_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    nagyatad_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    sopron_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    veszprem_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    fejer_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    pest_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    kiskun_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    bacs_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
                    heves_area = {
                        type = all
                        country_or_non_sovereign_subject_holds = ROOT
                    }
				}			
			}
		}
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
            add_power_projection = {
                type = mission_rewards_power_projection
                amount = 20
            }
            add_country_modifier = {
                name = nap_contest_hungary_mission
                duration = 9125
            }            
        }
    }
    vn_nap_rein_in_the_barons = {
        icon = rein_in_the_nobles
        position = 6
        required_missions = {  }
        trigger = {
            if = {
				limit = { has_estate = estate_church }
				estate_loyalty = {
					estate = estate_church
					loyalty = 60
				}
				NOT = {
					estate_influence = {
						estate = estate_church
						influence = 50
					}
				}
			}
            if = {
				limit = { has_estate = estate_burghers }
				estate_loyalty = {
					estate = estate_burghers
					loyalty = 60
				}
				NOT = {
					estate_influence = {
						estate = estate_burghers
						influence = 50
					}
				}
			}
            if = {
				limit = { has_estate = estate_nobles }
				estate_loyalty = {
					estate = estate_nobles
					loyalty = 60
				}
				NOT = {
					estate_influence = {
						estate = estate_nobles
						influence = 50
					}
				}
			}
			if = {
				limit = {
					NOT = { 
						has_estate = estate_church
					}
				}
				religious_unity = 1
			}
			if = {
				limit = {
					NOT = { 
						has_estate = estate_burghers
					}
				}
				NOT = {
					average_unrest = 0
				}
			}
			if = {
				limit = {
					NOT = { 
						has_estate = estate_nobles
					}
				}
				NOT = { corruption = 0.01 }
			}			
        }
        effect = {
			add_adm_power = 25
			add_dip_power = 25
			add_mil_power = 25
            add_country_modifier = {
                name = nap_rein_in_the_barons_mission
                duration = 9125
            } 			
        }
    }
    vn_nap_confiscate_estates = {
        icon = secure_our_rule
        position = 7
        required_missions = { vn_nap_rein_in_the_barons }
        trigger = {
			absolutism = 50
			crown_land_share = 75
			NOT = {
				any_owned_province = {
					is_state = yes
					local_autonomy = 25
				}
			}	            
        }
        effect = {
            add_absolutism = 10 
			change_government_reform_progress = 100
            add_country_modifier = {
                name = nap_confiscate_estates_mission
                duration = -1
            } 			
        }
    }
}