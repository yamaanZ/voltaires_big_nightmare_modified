#Cuman missions
#contributed by Quantumm
#coded by ShyGuy13

vn_cmn_missions_slot_1 = {
    slot = 6
    generic = no
    ai = yes
    potential = {
        tag = CMN
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_cmn_eternal_blue_sky = {
        icon = mission_ossetian_ritual
        position = 1
        required_missions = {  }
        trigger = {
            stability = 2
            religious_unity = 1
            if = {
                limit = { religion = tengri_pagan_reformed }
                has_country_modifier = black_shamanism_modifier
            }
        }
        effect = {
            add_country_modifier = {
                name = cmn_eternal_blue_sky_mission
                duration = 9125
            }
        }
    }
    vn_cmn_tengri_empire = {
        icon = mission_caucasian_village
        position = 2
        required_missions = { vn_cmn_eternal_blue_sky }
        trigger = {
            religious_unity = 0.75
            num_of_owned_provinces_with = {
                value = 250
                religion = ROOT
            }
        }
        effect = {
            add_horde_unity = 15
            add_legitimacy = 15
            add_country_modifier = {
                name = cmn_tengri_empire_mission
                duration = 9125
            }
        }
    }
    vn_cmn_conquer_bulgaria = {
        icon = push_on_to_bulgaria
        position = 4
        required_missions = { vn_cmn_conquer_bessarabia }
        provinces_to_highlight = {
            culture = bulgarian
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            OR = {
                AND = {
                    num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                        value = 50
                        culture = bulgarian
                    }
                }
            }
        }
        effect = {
            add_power_projection = {
                type = mission_rewards_power_projection
                amount = 25
            }
            custom_tooltip = vn_cmn_conquer_bulgaria.tt
            hidden_effect = {
                every_owned_province = {
                    limit = { culture = bulgarian }
                    add_province_modifier = {
                        name = cmn_conquer_bulgaria_mission
                        duration = 18250
                    }
                }
                every_subject_country = {
                    every_owned_province = {
                        limit = { culture = bulgarian }
                        add_province_modifier = {
                            name = cmn_conquer_bulgaria_mission
                            duration = 18250
                        }
                    }
                }
            }
        }
    }
    vn_cmn_conquer_moldavia = {
        icon = mission_non-western_cavalry_raid
        position = 6
        required_missions = { vn_cmn_conquer_kiev }
        provinces_to_highlight = {
            OR = {
                area = soroca_area
                area = iasi_area
                area = adjud_area
                area = barlad_area
                area = bukovina_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            soroca_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            iasi_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            adjud_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            barlad_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bukovina_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_adm_power = 50
            soroca_area = {
                add_nationalism = -5
            }
            iasi_area = {
                add_nationalism = -5
            }
            adjud_area = {
                add_nationalism = -5
            }
            barlad_area = {
                add_nationalism = -5
            }
            bukovina_area = {
                add_nationalism = -5
            }
        }
	}
}

vn_cmn_missions_slot_2 = {
    slot = 7
    generic = no
    ai = yes
    potential = {
        tag = CMN
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_cmn_conquer_bessarabia = {
        icon = mission_advance_to_the_dnieper
        position = 3
        required_missions = { vn_cmn_conquer_zaporizhia }
        provinces_to_highlight = {
            OR = {
                area = bessarabia_area
                area = budjak_area
                area = dobruja_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            bessarabia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            budjak_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            dobruja_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            if = {
                limit = { has_dlc = "Emperor" }
                custom_tooltip = fra_liberation_wars_enabled_tt
                set_country_flag = fra_liberation_wars_enabled
            }
            else = {
                add_prestige_or_monarch_power = { amount = 10 } 
            }
            silistra_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            tarnovo_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            vidin_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kran_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            buzau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            teleorman_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            oltenia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            severin_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            dambovita_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            ilfov_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_wallachia = {
        icon = mission_great_wall
        position = 4
        required_missions = { vn_cmn_conquer_bessarabia }
        provinces_to_highlight = {
            OR = {
                area = buzau_area
                area = teleorman_area
                area = oltenia_area
                area = severin_area
                area = dambovita_area
                area = ilfov_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }   
        }
        trigger = {
            buzau_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            teleorman_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            oltenia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            severin_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            dambovita_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            ilfov_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            buzau_area = {
                add_devastation = -10
            }
            teleorman_area = {
                add_devastation = -10
            }
            oltenia_area = {
                add_devastation = -10
            }
            severin_area = {
                add_devastation = -10
            }
            dambovita_area = {
                add_devastation = -10
            }
            ilfov_area = {
                add_devastation = -10
            }
			thrace_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			traianople_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			hellespont_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
			sozopol_area = {
				limit = {
					NOT = { is_permanent_claim = ROOT	}
					NOT = { is_core = ROOT	}
				}
				add_permanent_claim = ROOT
			}
            zagore_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_thrace = {
        icon = mission_steppe_warriors
        position = 5
        required_missions = { vn_cmn_conquer_wallachia }
        provinces_to_highlight = {
            OR = {
				area = thrace_area
				area = traianople_area
				area = hellespont_area
				area = sozopol_area
                area = zagore_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			thrace_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			traianople_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			hellespont_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			sozopol_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            zagore_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_country_modifier = {
                name = cmn_conquer_thrace_mission
                duration = 9125
            }
        }
    }
    vn_cmn_conquer_podolia = {
        icon = mission_non-western_cavalry_raid
        position = 6
        required_missions = { vn_cmn_conquer_kiev }
        provinces_to_highlight = {
            region = podolia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            podolia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_army_tradition = 10
            volhynia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            peremyshl_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            halych_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            lviv_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_volyn = {
        icon = mission_chinese_general_riding
        position = 7
        required_missions = { vn_cmn_conquer_podolia }
        provinces_to_highlight = {
            OR = {
                area = peremyshl_area
                area = halych_area
                area = lviv_area
                region = volhynia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            volhynia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            peremyshl_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            halych_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lviv_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_country_modifier = {
                name = cmn_conquer_volyn_mission
                duration = 9125
            }
        }
    }
    vn_cmn_destroy_the_rus = {
        icon = mission_dethrone_the_rurikovichs
        position = 8
        required_missions = { vn_cmn_conquer_ryazan vn_cmn_conquer_volyn }
        trigger = {
            if = {
				limit = {
					has_dlc = "Mandate of Heaven"
				}
				OR = {
					is_emperor_of_china = yes
					custom_trigger_tooltip = {
						tooltip = no_country_is_EoC
						NOT = {
							any_country = {
								is_emperor_of_china = yes
							}
						}
					}
				}
			}
			owns_core_province = 4237
			owns_core_province = 6594
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				superregion = ruthenia_superregion
				value = 200
			}
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 25 } 
            add_horde_unity = 25
            add_legitimacy = 25
            add_country_modifier = {
                name = cmn_destroy_the_rus_mission
                duration = 9125
            }
        }
	}
}

vn_cmn_missions_slot_3 = {
    slot = 8
    generic = no
    ai = yes
    potential = {
        tag = CMN
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_cmn_gather_the_horses = {
        icon = mission_marwari_horses
        position = 1
        required_missions = {  }
        trigger = {
            is_at_war = no
            land_forcelimit = 0.75
            land_maintenance = 1
            num_of_cavalry = 10
            num_of_generals = 2
        }
        effect = {
            add_yearly_manpower = 1
            zaporizhia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            yedisan_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_zaporizhia = {
        icon = mission_non-western_cavalry_raid
        position = 2
        required_missions = { vn_cmn_gather_the_horses }
        provinces_to_highlight = {
            OR = {
                area = zaporizhia_area
                area = yedisan_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            zaporizhia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            yedisan_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
            bessarabia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            budjak_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            dobruja_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_raid_kiev = {
        icon = mission_steppe_warriors
        position = 3
        required_missions = { vn_cmn_conquer_zaporizhia }
        provinces_to_highlight = {
			OR = {
				province_id = 4237
				province_id = 3974
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			NOT = { owner = { war_with = ROOT } }
		}
		trigger = {
			OR = {
				AND = {
					4237 = { country_or_non_sovereign_subject_holds = ROOT }
					3974 = { country_or_non_sovereign_subject_holds = ROOT }
				}
				4237 = {
                    controlled_by = ROOT
					owner = {
						war_with = ROOT
						OR = {
							is_emperor_of_china = no
							NOT = { imperial_mandate = 50 }
						}
					}
				}
			}
		}
        effect = {
            add_war_exhaustion = -2
            capital_scope = {
                add_base_tax = 1
                add_base_production = 1
                add_base_manpower = 1
            }
            kiev_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            chernigov_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            pereyaslavl_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_kiev = {
        icon = mission_rule_ruthenia
        position = 5
        required_missions = { vn_cmn_raid_kiev }
        provinces_to_highlight = {
			OR = {
                area = kiev_area
                area = chernigov_area
                area = pereyaslavl_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			kiev_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            chernigov_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            pereyaslavl_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            create_general = {
                tradition = 75
            }
            podolia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            soroca_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            iasi_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            adjud_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            barlad_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bukovina_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            seversk_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            rylsk_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bryansk_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_siveria = {
        icon = mission_conquer_novgorod
        position = 6
        required_missions = { vn_cmn_conquer_kiev }
        provinces_to_highlight = {
			OR = {
                area = seversk_area
                area = rylsk_area
                area = bryansk_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
            seversk_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            rylsk_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bryansk_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_mil_power = 50
            add_prestige_or_monarch_power = { amount = 5 } 
            ryazan_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            odoyev_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_ryazan = {
        icon = mission_conquer_moscow
        position = 7
        required_missions = { vn_cmn_conquer_siveria }
        provinces_to_highlight = {
            OR = {
                region = ryazan_region
                area = odoyev_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
        trigger = {
            ryazan_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            odoyev_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_mil_power = 100
            add_dip_power = 100
        }
	}
}

vn_cmn_missions_slot_4 = {
    slot = 9
    generic = no
    ai = yes
    potential = {
        tag = CMN
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_cmn_conquer_theodoro = {
        icon = mission_galleys_in_port
        position = 1
        required_missions = {  }
        provinces_to_highlight = {
            area = cherson_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            cherson_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            3133 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
            3088 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
            3206 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
            3692 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
            3784 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
            3702 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
            6640 = {
				if = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT	
				}		
			}
        }
    }
    vn_cmn_conquer_tmutkaran = {
        icon = mission_war_chest
        position = 4
        required_missions = { vn_cmn_conquer_theodoro vn_cmn_raid_kiev }
        provinces_to_highlight = {
            OR = {
                province_id = 3133
                province_id = 3088
                province_id = 3206
                province_id = 3692
                province_id = 3784
                province_id = 3702
                province_id = 6640
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            3133 = { country_or_non_sovereign_subject_holds = ROOT }
            3088 = { country_or_non_sovereign_subject_holds = ROOT }
            3206 = { country_or_non_sovereign_subject_holds = ROOT }
            3692 = { country_or_non_sovereign_subject_holds = ROOT }
            3784 = { country_or_non_sovereign_subject_holds = ROOT }
            3702 = { country_or_non_sovereign_subject_holds = ROOT }
            6640 = { country_or_non_sovereign_subject_holds = ROOT }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 15 } 
            adygea_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kabardia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            abazin_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_circassia = {
        icon = mission_build_up_to_force_limit
        position = 5
        required_missions = { vn_cmn_conquer_tmutkaran }
        provinces_to_highlight = {
            OR = {
                area = adygea_area
                area = kabardia_area
                area = abazin_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            adygea_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            kabardia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            abazin_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 5 } 
            add_mil_power = 25
            alania_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            shapsug_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            abkhazia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_abkhazia = {
        icon = mission_subjugate_rajputana
        position = 6
        required_missions = { vn_cmn_conquer_circassia }
        provinces_to_highlight = {
            OR = {
                area = shapsug_area
                area = abkhazia_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            shapsug_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            abkhazia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 5 } 
            add_mil_power = 25
            imereti_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            argveti_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kartli_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kakheti_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            samtskhe_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_georgia = {
        icon = mission_steppe_warriors
        position = 7
        required_missions = { vn_cmn_conquer_abkhazia }
        provinces_to_highlight = {
            OR = {
                area = imereti_area
                area = argveti_area
                area = kartli_area
                area = kakheti_area
                area = samtskhe_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            imereti_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            argveti_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            kartli_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            kakheti_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            samtskhe_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_country_modifier = {
                name = cmn_conquer_georgia_mission
                duration = 9125
            }
        }
    }
    vn_cmn_subjugate_seljuks = {
        icon = mission_persian_soldiers
        position = 8
        required_missions = { vn_cmn_conquer_georgia vn_cmn_conquer_dagestan }
        provinces_to_highlight = {
            province_id = 6301
        }
        trigger = {
            6301 = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            SJK = {
                OR = {
                    is_subject_of = ROOT
                    exists = no
                } 
            }
        }
        effect = {
            if = {
                limit = {
                    SJK = {
                        is_subject_of = ROOT
                    }
                }
                add_dip_power = 75
                add_mil_power = 25
            }
            else = {
                add_mil_power = 75
                add_dip_power = 25
            }
            add_country_modifier = {
                name = cmn_subjugate_seljuks_mission
                duration = 9125
            }
        }
	}
}

vn_cmn_missions_slot_5 = {
    slot = 10
    generic = no
    ai = yes
    potential = {
        tag = CMN
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_cmn_great_khan = {
        icon = mission_chinese_general_riding
        position = 1
        required_missions = {  }
        trigger = {
			if = {
				limit = {
					has_dlc = "The Cossacks"
					has_reform = steppe_horde
				}
				horde_unity = 90
			}
			else = {
				legitimacy = 90
			}
            is_monarch_leader = yes
            calc_true_if = {
                amount = 2
                adm = 4
                dip = 4
                mil = 4
            }
        }
        effect = {
            add_country_modifier = {
                name = cmn_great_khan_mission
                duration = 9125
            }
        }
	}
    vn_dominate_the_steppes = {
        icon = mission_subdue_rajputana
        position = 2
        required_missions = { vn_cmn_great_khan }
        trigger = {
            NOT = { alliance_with = QYP }
            grown_by_development = 150
            army_strength = {
                who = QYP
                value = 1.5
            }
        }
        effect = {
            if = {
                limit = {
                    exists = QYP
                    is_subject = no
                    QYP = {
                        is_free_or_tributary_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_vassalize_mission
                    months = 300
                    target = QYP
                }
            }
            else = {
                kazakhstan_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                lower_don_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
    }
    vn_cmn_subjugate_kipchaks = {
        icon = mission_have_two_subjects
        position = 3
        required_missions = { vn_dominate_the_steppes }
        provinces_to_highlight = {
            province_id = 3794
        }
        trigger = {
            3794 = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            QYP = {
                OR = {
                    is_subject_of = ROOT
                    exists = no
                } 
            }
        }
        effect = {
            add_country_modifier = {
                name = cmn_subjugate_kipchaks_mission
                duration = 9125
            }
        }
    }
    vn_cmn_turkic_empire = {
        icon = mission_empire
        position = 4
        required_missions = { vn_cmn_subjugate_kipchaks }
        trigger = {
            government_rank = 6
            total_development = 1000
            prestige = 50
        }
        effect = {
            add_adm_power = 100
            add_dip_power = 100
            add_mil_power = 100
            add_legitimacy = 25
            add_horde_unity = 25
            add_country_modifier = {
                name = cmn_turkic_empire_mission
                duration = 36500
            }            
        }
    }
    vn_cmn_conquer_alania = {
        icon = mission_extent_yasak_to_the_east
        position = 6
        required_missions = { vn_cmn_conquer_circassia }
        provinces_to_highlight = {
            area = alania_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            alania_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            lekia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            derbent_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            chechnya_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kumykia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_cmn_conquer_dagestan = {
        icon = mission_caucasian_village
        position = 7
        required_missions = { vn_cmn_conquer_alania }
        provinces_to_highlight = {
            OR = {
                area = lekia_area
                area = derbent_area
                area = chechnya_area
                area = kumykia_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            lekia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            derbent_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            chechnya_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            kumykia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 5 } 
            add_horde_unity = 5
            add_legitimacy = 5
            add_army_tradition = 5
            if = {
                limit = {
                    exists = SJK
                    is_subject = no
                    SJK = {
                        is_free_or_tributary_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_vassalize_mission
                    months = 300
                    target = SJK
                }
            }
            else = {
                lower_mesopotamia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
	}
}